{%- assign settings_name = name | upper_camel_case | append: "Settings" -%}
{%- assign screen_name = name | upper_camel_case | append: "Screen" -%}
{%- assign assets_name = name | upper_camel_case | append: "Assets" -%}
use crate::prelude::*;

{% if settings %}
#[derive(PartialEq, Eq, Clone, Debug, Hash, Reflect, Default, Resource)]
pub struct {{settings_name -}};
{%- endif %}

{% if assets %}
#[derive(AssetCollection, Resource, Debug, Default)]
pub struct {{assets_name -}} {
    // some assets ...
    // see bevy_asset_loader docs
    // https://docs.rs/bevy_asset_loader/latest/bevy_asset_loader/
}
{%-  endif %}

#[derive(Component, Debug, Clone, Copy, Default, PartialEq, Eq, Hash, Reflect)]
pub struct {{screen_name -}};
impl Screen for {{screen_name}} {
    type SETTINGS = {% if settings -%} {{- settings_name -}} {%- else -%} NoSettings {%- endif -%};
    type ASSETS = {% if assets -%} {{- assets_name -}} {%- else -%} NoAssets {%- endif %};
    const STRATEGY: LoadingStrategy = LoadingStrategy::{{strategy -}};
}

pub fn plugin(app: &mut App) {
    ScreenScopeBuilder::<{{screen_name}}>::new(app)
        // .add_systems(some_service_systems().take())
        // .on_ready(init)
        // .on_unload(unload)
        .build();
}
