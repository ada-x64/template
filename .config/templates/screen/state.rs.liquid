{%- assign name = name | upper_camel_case | append: "Screen" -%}
{%- assign collection = name | upper_camel_case | append: "AssetCollection" -%}
use crate::prelude::*;

#[derive(AssetCollection, Resource)]
struct {{collection}} {

}

{% if pedantic -%}
/// This plugin controls how the state transitions from Loading to Ready.
/// It does not have to use [bevy_asset_loader], but it's helpful to do so.
{%- endif %}
pub fn plugin(app: &mut App) {
    app.add_loading_state(
        LoadingState::new(ScreenLoadingState::<{{-name-}}>::Loading)
            .continue_to_state(ScreenLoadingState::<{{-name-}}>::Ready)
            .load_collection::<{{-collection-}}>(),
    );
}
